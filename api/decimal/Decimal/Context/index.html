<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Context (decimal.Decimal.Context)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">decimal</a> &#x00BB; <a href="../index.html">Decimal</a> &#x00BB; Context</nav><header class="odoc-preamble"><h1>Module <code><span>Decimal.Context</span></code></h1><p>Settings that control precision, rounding mode, exceptional behaviour, etc.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-round" class="anchored"><a href="#type-round" class="anchor"></a><code><span><span class="keyword">type</span> round</span><span> = </span></code><table><tr id="type-round.Down" class="anchored"><td class="def variant constructor"><a href="#type-round.Down" class="anchor"></a><code><span>| </span><span><span class="constructor">Down</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round towards 0; truncate.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Up" class="anchored"><td class="def variant constructor"><a href="#type-round.Up" class="anchor"></a><code><span>| </span><span><span class="constructor">Up</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round away from 0.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Half_up" class="anchored"><td class="def variant constructor"><a href="#type-round.Half_up" class="anchor"></a><code><span>| </span><span><span class="constructor">Half_up</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round up if last significant digit is &gt;= 5, else round down.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Half_down" class="anchored"><td class="def variant constructor"><a href="#type-round.Half_down" class="anchor"></a><code><span>| </span><span><span class="constructor">Half_down</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round up if last significant digit is &gt; 5, else round down.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Half_even" class="anchored"><td class="def variant constructor"><a href="#type-round.Half_even" class="anchor"></a><code><span>| </span><span><span class="constructor">Half_even</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round up if last significant digit is &gt; 5 or next-to-last significant digit is odd, else round down.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Ceiling" class="anchored"><td class="def variant constructor"><a href="#type-round.Ceiling" class="anchor"></a><code><span>| </span><span><span class="constructor">Ceiling</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round up if last significant digit is &gt; 0, else no change.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Floor" class="anchored"><td class="def variant constructor"><a href="#type-round.Floor" class="anchor"></a><code><span>| </span><span><span class="constructor">Floor</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round down if last significant digit is &gt; 0, else no change.</p><span class="comment-delim">*)</span></td></tr><tr id="type-round.Zero_five_up" class="anchored"><td class="def variant constructor"><a href="#type-round.Zero_five_up" class="anchor"></a><code><span>| </span><span><span class="constructor">Zero_five_up</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Round zero or five away from 0.</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_round" class="anchored"><a href="#val-string_of_round" class="anchor"></a><code><span><span class="keyword">val</span> string_of_round : <span><a href="#type-round">round</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Controls, precision, rounding, traps (exception handling), etc. settings.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-default" class="anchored"><a href="#val-default" class="anchor"></a><code><span><span class="keyword">val</span> default : <span><a href="#type-t">t</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p><code>default</code> is a reference to the default thread-local context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>?prec:int <span class="arrow">&#45;&gt;</span></span> <span>?round:<a href="#type-round">round</a> <span class="arrow">&#45;&gt;</span></span> <span>?e_max:int <span class="arrow">&#45;&gt;</span></span> <span>?e_min:int <span class="arrow">&#45;&gt;</span></span> <span>?capitals:bool <span class="arrow">&#45;&gt;</span></span>
<span>?clamp:bool <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make ?prec ?round ?e_max ?e_min ?capitals ?clamp ()</code> is a new context value with the given settings and the following traps configured:</p><ul><li><code>conversion_syntax</code></li><li><code>invalid_operation</code></li><li><code>div_by_zero</code></li><li><code>overflow</code></li></ul><p>These may be overridden by using <code>Signal.set (Context.traps context) id bool</code>, or setting a new default context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span>orig:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?prec:int <span class="arrow">&#45;&gt;</span></span> <span>?round:<a href="#type-round">round</a> <span class="arrow">&#45;&gt;</span></span> <span>?e_max:int <span class="arrow">&#45;&gt;</span></span> <span>?e_min:int <span class="arrow">&#45;&gt;</span></span> <span>?capitals:bool <span class="arrow">&#45;&gt;</span></span>
<span>?clamp:bool <span class="arrow">&#45;&gt;</span></span> <span>?traps:<a href="../Signal/index.html#type-array">Signal.array</a> <span class="arrow">&#45;&gt;</span></span> <span>?flags:<a href="../Signal/index.html#type-array">Signal.array</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>copy ~orig ?prec ?round ?e_max ?e_min ?capitals ?clamp ?traps ?flags</code> is a deep copy of <code>orig</code> with the given settings. The optional settings default to the same values as those in <code>orig</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prec" class="anchored"><a href="#val-prec" class="anchor"></a><code><span><span class="keyword">val</span> prec : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-round" class="anchored"><a href="#val-round" class="anchor"></a><code><span><span class="keyword">val</span> round : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-round">round</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e_max" class="anchored"><a href="#val-e_max" class="anchor"></a><code><span><span class="keyword">val</span> e_max : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e_min" class="anchored"><a href="#val-e_min" class="anchor"></a><code><span><span class="keyword">val</span> e_min : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-capitals" class="anchored"><a href="#val-capitals" class="anchor"></a><code><span><span class="keyword">val</span> capitals : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-clamp" class="anchored"><a href="#val-clamp" class="anchor"></a><code><span><span class="keyword">val</span> clamp : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-traps" class="anchored"><a href="#val-traps" class="anchor"></a><code><span><span class="keyword">val</span> traps : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Signal/index.html#type-array">Signal.array</a></span></code></div><div class="spec-doc"><p><code>traps t</code> is the set of traps for context <code>t</code>. Traps may be set to <code>true</code> or <code>false</code> using <code>Signal.set</code>; a trap set to <code>true</code> raises a runtime exception when its signal is raised. One that's set to <code>false</code> causes the relevant calculation to silently handle the condition and return a result value (typically, <code>NaN</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-flags" class="anchored"><a href="#val-flags" class="anchor"></a><code><span><span class="keyword">val</span> flags : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Signal/index.html#type-array">Signal.array</a></span></code></div><div class="spec-doc"><p><code>flags t</code> is the set of flags for context <code>t</code>. Flags are set to <code>true</code> during a calculation in a context <code>t</code>, when the calculation encounters a condition that triggers the flag. E.g., overflow.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-e_tiny" class="anchored"><a href="#val-e_tiny" class="anchor"></a><code><span><span class="keyword">val</span> e_tiny : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>e_tiny t</code> is <code>e_min t - prec t + 1</code>, the minimum allowable exponent of context <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-e_top" class="anchored"><a href="#val-e_top" class="anchor"></a><code><span><span class="keyword">val</span> e_top : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>e_top t</code> is the maximum exponent of context <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pp f t</code> pretty-prints the context <code>t</code>.</p></div></div></div></body></html>